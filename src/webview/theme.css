/* ══════════════════════════════════════════════
   Missio Theme — Centralized color definitions
   All panels import this file. Edit here to
   adjust the color scheme for light/dark mode.
   ══════════════════════════════════════════════ */

/* ── Dark mode (default) ─────────────────── */
:root {
  /* Surface & text */
  --m-bg: var(--vscode-editor-background);
  --m-fg: var(--vscode-editor-foreground);
  --m-fg-muted: var(--vscode-descriptionForeground, #888);
  --m-fg-dim: var(--vscode-disabledForeground, #666);
  --m-fg-faint: var(--vscode-tab-inactiveForeground, #555);
  --m-border: var(--vscode-panel-border, var(--vscode-widget-border, #333));

  /* Inputs */
  --m-input-bg: color-mix(in srgb, var(--vscode-input-background, #1f1f1f) 85%, black);
  --m-input-fg: var(--vscode-input-foreground);
  --m-input-border: var(--vscode-input-border, #444);
  --m-input-placeholder: var(--vscode-input-placeholderForeground, #888);

  /* Theme-adaptive overlays & shadows */
  --m-hover-overlay: var(--vscode-list-hoverBackground, rgba(255,255,255,0.05));
  --m-shadow: rgba(0,0,0,0.3);
  --m-line-num-color: var(--vscode-editorLineNumber-foreground, rgba(255,255,255,0.2));

  /* Buttons */
  --m-btn-bg: var(--vscode-button-background);
  --m-btn-fg: var(--vscode-button-foreground);
  --m-btn-hover: var(--vscode-button-hoverBackground);

  /* Tabs */
  --m-tab-active: var(--vscode-tab-activeBackground, var(--m-bg));
  --m-tab-inactive: var(--vscode-tab-inactiveBackground, transparent);
  --m-tab-inactive-fg: var(--vscode-tab-inactiveForeground, #888);

  /* Badges */
  --m-badge-bg: var(--vscode-badge-background, #444);
  --m-badge-fg: var(--vscode-badge-foreground, #fff);

  /* Status badges */
  --m-status-success: var(--vscode-charts-green, #89d185);
  --m-status-error: var(--vscode-charts-red, #f14c4c);
  --m-status-warn: var(--vscode-charts-yellow, #cca700);
  --m-status-info: var(--vscode-charts-blue, #3794ff);
  --m-status-badge-text: #000;

  /* HTTP methods */
  --m-method-get: var(--vscode-missio-methodGet, #9cd8a4);
  --m-method-post: var(--vscode-missio-methodPost, #f7e698);
  --m-method-put: var(--vscode-missio-methodPut, #8aabeb);
  --m-method-patch: var(--vscode-missio-methodPatch, #b9aad9);
  --m-method-delete: var(--vscode-missio-methodDelete, #dfa195);
  --m-method-head: var(--vscode-missio-methodHead, #9cd8a4);
  --m-method-options: var(--vscode-missio-methodOptions, #d16faa);

  /* Syntax tokens */
  --m-tk-key: #9cdcfe;
  --m-tk-str: #ce9178;
  --m-tk-num: #b5cea8;
  --m-tk-kw: #569cd6;
  --m-tk-tag: #569cd6;
  --m-tk-attr: #9cdcfe;
  --m-tk-bracket: #ffd700;

  /* Variable highlighting */
  --m-var-color: #dcdcaa;
  --m-var-bg: rgba(220,220,170,0.08);
  --m-var-bg-hover: rgba(220,220,170,0.18);
  --m-var-unresolved: #f48771;
  --m-var-unresolved-bg: rgba(244,135,113,0.08);
  --m-var-unresolved-bg-hover: rgba(244,135,113,0.18);

  /* Variable source colors */
  --m-src-collection: #f7e698;
  --m-src-folder: #b9aad9;
  --m-src-environment: #9cd8a4;
  --m-src-dotenv: #dfa195;
  --m-src-secret: #d16faa;
  --m-src-global: #8aabeb;
  --m-src-dynamic: #4ec9b0;

  /* Resolved variable backgrounds (per source) */
  --m-resolved-bg: rgba(255,255,255,0.04);
  --m-resolved-bg-hover: rgba(255,255,255,0.1);
  --m-resolved-collection-bg: rgba(247,230,152,0.1);
  --m-resolved-collection-bg-hover: rgba(247,230,152,0.2);
  --m-resolved-folder-bg: rgba(185,170,217,0.1);
  --m-resolved-folder-bg-hover: rgba(185,170,217,0.2);
  --m-resolved-environment-bg: rgba(156,216,164,0.1);
  --m-resolved-environment-bg-hover: rgba(156,216,164,0.2);
  --m-resolved-dotenv-bg: rgba(223,161,149,0.1);
  --m-resolved-dotenv-bg-hover: rgba(223,161,149,0.2);
  --m-resolved-secret-bg: rgba(209,111,170,0.1);
  --m-resolved-secret-bg-hover: rgba(209,111,170,0.2);
  --m-resolved-global-bg: rgba(138,171,235,0.1);
  --m-resolved-global-bg-hover: rgba(138,171,235,0.2);

  /* Scope badges (Postman-style) */
  --m-scope-E: #325a2e;
  --m-scope-C: #a38138;
  --m-scope-G: #283b6b;

  /* Tooltip / hover widgets */
  --m-tooltip-bg: var(--vscode-editorHoverWidget-background, var(--vscode-editor-background));
  --m-tooltip-border: var(--vscode-editorHoverWidget-border, var(--vscode-panel-border, #454545));

  /* Autocomplete / suggest */
  --m-suggest-bg: var(--vscode-editorSuggestWidget-background, var(--vscode-editor-background));
  --m-suggest-border: var(--vscode-editorSuggestWidget-border, var(--vscode-panel-border, #454545));
  --m-suggest-highlight: var(--vscode-list-hoverBackground);

  /* OAuth2 token status */
  --m-token-valid-border: rgba(137,209,133,0.3);
  --m-token-expired-border: rgba(244,135,113,0.3);
  --m-token-error-color: #f48771;
  --m-token-progress-border: rgba(55,148,255,0.3);
  --m-token-progress-color: #3794ff;
  --m-dot-valid: #89d185;
  --m-dot-expired: #f48771;
  --m-dot-none: var(--vscode-descriptionForeground, #888);

  /* Response timing */
  --m-timing-label: var(--vscode-descriptionForeground, #aaa);
  --m-timing-dur: var(--vscode-editor-foreground, #ccc);
  --m-timing-total-label: var(--vscode-editor-foreground, #ddd);
  --m-timing-total-dur: var(--vscode-editor-foreground, #fff);
  --m-timing-track-bg: rgba(255,255,255,0.06);

  /* Line numbers */
  --m-line-num: var(--vscode-editorLineNumber-foreground, #555);

  /* Inherited badge */
  --m-inherited-color: var(--vscode-charts-purple, #b180d7);
  --m-inherited-bg: rgba(177,128,215,0.12);
  --m-inherited-border: rgba(177,128,215,0.3);

  /* Focus */
  --m-focus-border: var(--vscode-focusBorder, #007fd4);
}

/* ── Light mode overrides ────────────────── */
/* VS Code sets data-vscode-theme-kind on <body>; we target both body and :root for full coverage */
:root[data-vscode-theme-kind="vscode-light"],
:root[data-vscode-theme-kind="vscode-high-contrast-light"],
body[data-vscode-theme-kind="vscode-light"],
body[data-vscode-theme-kind="vscode-high-contrast-light"] {
  /* Syntax tokens (light-appropriate colors) */
  --m-tk-key: #001080;
  --m-tk-str: #a31515;
  --m-tk-num: #098658;
  --m-tk-kw: #0000ff;
  --m-tk-tag: #800000;
  --m-tk-attr: #ff0000;
  --m-tk-bracket: #0431fa;

  /* HTTP methods (deeper for light backgrounds) */
  --m-method-get: var(--vscode-missio-methodGet, #2e7d32);
  --m-method-post: var(--vscode-missio-methodPost, #b8860b);
  --m-method-put: var(--vscode-missio-methodPut, #1565c0);
  --m-method-patch: var(--vscode-missio-methodPatch, #6a1b9a);
  --m-method-delete: var(--vscode-missio-methodDelete, #c62828);
  --m-method-head: var(--vscode-missio-methodHead, #2e7d32);
  --m-method-options: var(--vscode-missio-methodOptions, #ad1457);

  /* Variable highlighting */
  --m-var-color: #795e26;
  --m-var-bg: rgba(121,94,38,0.08);
  --m-var-bg-hover: rgba(121,94,38,0.18);
  --m-var-unresolved: #cd3131;
  --m-var-unresolved-bg: rgba(205,49,49,0.08);
  --m-var-unresolved-bg-hover: rgba(205,49,49,0.18);

  /* Variable source colors (aligned with methods) */
  --m-src-collection: #b8860b;
  --m-src-folder: #6a1b9a;
  --m-src-environment: #2e7d32;
  --m-src-dotenv: #c62828;
  --m-src-secret: #ad1457;
  --m-src-global: #1565c0;
  --m-src-dynamic: #00796b;

  /* Resolved variable backgrounds */
  --m-resolved-bg: rgba(0,0,0,0.04);
  --m-resolved-bg-hover: rgba(0,0,0,0.1);
  --m-resolved-collection-bg: rgba(184,134,11,0.08);
  --m-resolved-collection-bg-hover: rgba(184,134,11,0.16);
  --m-resolved-folder-bg: rgba(106,27,154,0.08);
  --m-resolved-folder-bg-hover: rgba(106,27,154,0.16);
  --m-resolved-environment-bg: rgba(46,125,50,0.08);
  --m-resolved-environment-bg-hover: rgba(46,125,50,0.16);
  --m-resolved-dotenv-bg: rgba(198,40,40,0.08);
  --m-resolved-dotenv-bg-hover: rgba(198,40,40,0.16);
  --m-resolved-secret-bg: rgba(173,20,87,0.08);
  --m-resolved-secret-bg-hover: rgba(173,20,87,0.16);
  --m-resolved-global-bg: rgba(21,101,192,0.08);
  --m-resolved-global-bg-hover: rgba(21,101,192,0.16);

  /* Status badges */
  --m-status-badge-text: #fff;

  /* Timing */
  --m-timing-track-bg: rgba(0,0,0,0.06);

  /* Shadow (lighter for light themes) */
  --m-shadow: rgba(0,0,0,0.12);
}
