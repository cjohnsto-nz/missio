"use strict";(()=>{var L=acquireVsCodeApi(),$=null,D=null,Ee=!1,P="none",_="json";function Fe(e){$=e}function Te(e){D=e}function ie(e){Ee=e}function Ne(e){P=e}function ce(e){_=e}function r(e){return document.getElementById(e)}function b(e){return document.getElementById(e)}function F(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}var Dt=/\{\{(\s*[\w.$-]+\s*)\}\}/g,Ke=/^[\w.$-]*$/;function m(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pt=new Set(["$guid","$timestamp","$randomInt"]);function We(e,t){return e.replace(Dt,(n,o)=>{let a=o.trim(),s=a in t.resolved,i=Pt.has(a),l=t.secretKeys?.has(a)??!1,c=s||i||l,u=t.sources[a]||(l?"secret":i?"dynamic":"unknown");return t.showResolved&&s?"<span class='"+("tk-var-resolved tk-src-"+u)+"' data-var='"+m(a)+"' title='{{"+m(a)+"}} ("+u+")'>"+m(t.resolved[a])+"</span>":"<span class='"+(c?"tk-var tk-src-"+u:"tk-var tk-var-unresolved")+"' data-var='"+m(a)+"'>{{"+m(o)+"}}</span>"})}var A=null,xe=null;function de(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function ze(e){A&&!A.contains(e.target)&&ue()}function ue(){A&&(A.remove(),A=null),xe=null,document.removeEventListener("click",ze)}function je(e){if(!A||e.secretRef!==xe)return;let t=A.querySelector(".var-secret-value"),n=A.querySelector('.var-action-btn[data-action="reveal"]');if(e.error){t&&(t.textContent=e.error,t.style.color="#f48771",t.style.fontStyle="normal"),n&&(n.textContent="Reveal Value");return}let o=e.value??"";ee=o,t&&(t.textContent=o,t.style.cssText=""),n&&(n.textContent="Hide Value"),N=!0;let a=A.querySelector('.var-action-btn[data-action="copy"]');a&&(a.textContent="Copy Value",a.dataset.secretValue=o)}var ee=null,N=!1;function V(e,t,n){ue(),ee=null,N=!1;let o=e.getBoundingClientRect(),a=n.getResolvedVariables(),s=n.getVariableSources(),i=n.getSecretKeys?.()??new Set,l=t in a,c=i.has(t),u=s[t]||(c?"secret":"unknown"),d=u.charAt(0).toUpperCase()+u.slice(1),f=l||c,p=document.createElement("div");p.className="var-tooltip";let y;l?y="<div class='var-source tk-src-"+de(u)+"'>"+de(d)+"</div><div class='var-value'>"+de(a[t])+"</div>":c?y="<div class='var-source tk-src-secret'>Secret</div><div class='var-secret-value var-value' style='font-style:italic;opacity:0.7'>Value hidden</div>":y="<div class='var-unresolved'>Unresolved variable</div>";let h=[];n.onEditVariable&&!c&&h.push("<button class='var-action-btn' data-action='edit'>Edit</button>"),c&&!l&&n.postMessage&&h.push("<button class='var-action-btn' data-action='reveal'>Reveal Value</button>"),h.push("<button class='var-action-btn' data-action='copy'>"+(l?"Copy Value":"Copy Name")+"</button>"),p.innerHTML="<div class='var-name'>{{"+de(t)+"}}</div>"+y+"<div class='var-actions'>"+h.join("")+"</div>",p.style.left=o.left+"px",p.style.top=o.bottom+4+"px",document.body.appendChild(p),A=p,p.querySelectorAll(".var-action-btn").forEach(x=>{x.addEventListener("click",Vt=>{Vt.stopPropagation();let be=x.dataset.action;if(be==="edit"&&n.onEditVariable)n.onEditVariable(t),ue();else if(be==="copy"){let Ut=x.dataset.secretValue??(l?a[t]:"{{"+t+"}}");navigator.clipboard.writeText(Ut).catch(()=>{}),ue()}else if(be==="reveal"){let R=p.querySelector(".var-secret-value");ee!==null?(N=!N,R&&(N?(R.textContent=ee,R.style.cssText=""):(R.textContent="\u2022".repeat(Math.min(ee.length,20)),R.style.cssText="")),x.textContent=N?"Hide Value":"Show Value"):(xe=t,R&&(R.textContent="Resolving\u2026",R.style.cssText="font-style:italic;opacity:0.7"),x.textContent="Resolving\u2026",n.postMessage({type:"resolveSecret",secretRef:t}))}})}),setTimeout(()=>{document.addEventListener("click",ze)},0)}var Ge=()=>({});function Xe(e){Ge=e}var g=null,w=[],I=0,ne=null,M=0,pe=!1,we=null,_t=[{name:"$guid",detail:"Generate a random UUID"},{name:"$timestamp",detail:"Current Unix timestamp"},{name:"$randomInt",detail:"Random integer 0\u20131000"}],Le=[],Je=new Map;function Qe(e){Le=e}function Ye(e,t){Je.set(e,t)}function Ze(e,t){let n=e.substring(0,t),o=n.lastIndexOf("{{");if(o===-1)return null;let a=n.substring(o+2);if(a.includes("}}"))return null;let s=a.trim();return Ke.test(s)?s:null}function se(e,t){let n=e.selectionStart??0,o=Ze(e.value,n);if(o===null){k();return}ne=e,pe=!1,M=e.value.lastIndexOf("{{",n-1),et(o,e,t)}function oe(e,t){let n=window.getSelection();if(!n||n.rangeCount===0)return;let o=e.textContent||"",a=n.getRangeAt(0),s=document.createRange();s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset);let i=s.toString().length,l=Ze(o,i);if(l===null){k();return}ne=e,pe=!0,M=o.lastIndexOf("{{",i-1),et(l,e,t)}function et(e,t,n){we=n;let o=e.toLowerCase(),a=[],s=Ge();for(let l of Object.keys(s))a.push({name:l,detail:s[l]});for(let l of _t)a.push(l);if(o===""||"$secret".startsWith(o))Le.length>0&&a.push({name:"$secret",detail:"Secret provider"});else if(o.startsWith("$secret.")){let l=o.substring(8),c=l.indexOf(".");if(c===-1)for(let u of Le)u.toLowerCase().startsWith(l)&&a.push({name:"$secret."+u,detail:"Key Vault provider"});else{let u=l.substring(0,c),d=l.substring(c+1),f=Je.get(u)||[];for(let p of f)p.toLowerCase().startsWith(d)&&a.push({name:"$secret."+u+"."+p,displayName:p,detail:"Secret"})}}let i=new Set;w=[];for(let l of a)l.name.toLowerCase().startsWith(o)&&!i.has(l.name)&&(i.add(l.name),w.push(l));if(w.length===0){k();return}I=0,g||(g=document.createElement("div"),g.className="var-autocomplete",document.body.appendChild(g)),ke(),Nt(t)}function ke(){g&&(g.innerHTML=w.map((e,t)=>"<div class='"+(t===I?"var-autocomplete-item selected":"var-autocomplete-item")+"' data-index='"+t+"'><span class='var-ac-name'>"+m(e.displayName||e.name)+"</span><span class='var-ac-value'>"+m(e.detail||"")+"</span></div>").join(""),g.querySelectorAll(".var-autocomplete-item").forEach(e=>{e.addEventListener("mousedown",t=>{t.preventDefault();let n=parseInt(e.dataset.index||"0");at(w[n].name)})}))}function Ft(e){let t=document.createElement("div"),n=window.getComputedStyle(e);["fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","paddingTop","paddingLeft","paddingRight","paddingBottom","borderWidth","boxSizing","whiteSpace","wordWrap","overflowWrap","tabSize"].forEach(u=>{t.style[u]=n.getPropertyValue(u.replace(/[A-Z]/g,d=>"-"+d.toLowerCase()))}),t.style.position="absolute",t.style.visibility="hidden",t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.width=e.clientWidth+"px";let a=e.value.substring(0,e.selectionStart??0);t.textContent=a;let s=document.createElement("span");s.textContent="|",t.appendChild(s),document.body.appendChild(t);let i=s.getBoundingClientRect(),l=e.getBoundingClientRect(),c={top:l.top+(i.top-t.getBoundingClientRect().top)-e.scrollTop,left:l.left+(i.left-t.getBoundingClientRect().left)-e.scrollLeft};return document.body.removeChild(t),c}function Nt(e){if(g){if(pe){let t=window.getSelection();if(t&&t.rangeCount>0){let o=t.getRangeAt(0).getBoundingClientRect();g.style.left=o.left+"px",g.style.top=o.bottom+4+"px"}else{let n=e.getBoundingClientRect();g.style.left=n.left+"px",g.style.top=n.bottom+2+"px"}}else{let t=Ft(e);g.style.left=t.left+"px",g.style.top=t.top+18+"px"}g.style.minWidth="220px"}}var tt=null,nt=null,st=null,te=null;function ot(e,t,n,o){tt=e,nt=t,st=n,te=o||null}function Kt(e){return!!(e==="$secret"||e.startsWith("$secret.")&&e.split(".").length===2)}function at(e){if(!ne)return;let t=Kt(e),n=ne,o=pe,a=we;if(o){let s=n,i=s,l=i._getRawText?i._getRawText():s.textContent||"",c=window.getSelection(),u=l.length;if(c&&c.rangeCount>0){let p=c.getRangeAt(0),y=document.createRange();y.selectNodeContents(s),y.setEnd(p.startContainer,p.startOffset),u=y.toString().length}let d,f;if(t){d="{{"+e+".";let p=u;l.substring(u).startsWith("}}")&&(p+=2);let h=l.substring(0,M)+d+l.substring(p);f=M+d.length,i._setRawText?i._setRawText(h):te&&te(h)}else{d="{{"+e+"}}";let p=u;l.substring(u).startsWith("}}")&&(p+=2);let h=l.substring(0,M)+d+l.substring(p);f=M+d.length,i._setRawText?i._setRawText(h):te&&te(h)}if(a?a():nt?.(),st?.(s,f),t){k(),setTimeout(()=>{oe(s,a||(()=>{}))},0);return}}else{let s=n,i=s.value,l=s.selectionStart??i.length,c,u;if(t){c="{{"+e+".";let d=l;i.substring(l).startsWith("}}")&&(d+=2),s.value=i.substring(0,M)+c+i.substring(d),u=M+c.length}else{c="{{"+e+"}}";let d=l;i.substring(l).startsWith("}}")&&(d+=2),s.value=i.substring(0,M)+c+i.substring(d),u=M+c.length}if(s.selectionStart=u,s.selectionEnd=u,s.focus(),a?a():tt?.(),t){k(),setTimeout(()=>{se(s,a||(()=>{}))},0);return}}k()}function k(){g&&(g.remove(),g=null),ne=null,w=[],I=0,we=null}function K(e){return!g||w.length===0?!1:e.key==="ArrowDown"?(e.preventDefault(),I=(I+1)%w.length,ke(),!0):e.key==="ArrowUp"?(e.preventDefault(),I=(I-1+w.length)%w.length,ke(),!0):e.key==="Enter"||e.key==="Tab"?(e.preventDefault(),at(w[I].name),!0):e.key==="Escape"?(e.preventDefault(),k(),!0):!1}function W(){return g!==null}var z={},re={},ae=!1,le=new Set,rt=null,Se=null;function lt(e){rt=e}function it(e){Se=e}function ct(){return z}function dt(){return re}function fe(){return ae}function Ae(e){ae=e}function ut(){return le}function C(e){return We(e,{resolved:z,sources:re,showResolved:ae,secretKeys:le})}function U(e,t){let n=window.getSelection();if(!n)return;let o=document.createRange(),a=0,s=!1;function i(l){if(l.nodeType===Node.TEXT_NODE){let c=(l.textContent||"").length;if(a+c>=t)return o.setStart(l,t-a),o.collapse(!0),!0;a+=c}else for(let c=0;c<l.childNodes.length;c++)if(i(l.childNodes[c]))return!0;return!1}s=i(e),s||(o.selectNodeContents(e),o.collapse(!1)),n.removeAllRanges(),n.addRange(o)}function B(){document.querySelectorAll(".var-cell").forEach(e=>{let t=e.querySelector('input[type="text"]'),n=e.querySelector(".var-overlay");t&&n&&e.classList.contains("var-overlay-active")&&(n.innerHTML=C(m(t.value)))}),document.querySelectorAll(".val-ce").forEach(e=>{let t=e._getRawText;if(t&&document.activeElement!==e){let n=t();n&&(e.innerHTML=C(m(n)))}})}function j(e){let t=e.parentElement;t.classList.add("var-cell");let n=document.createElement("div");n.className="var-overlay",t.appendChild(n);function o(){n.innerHTML=C(m(e.value))}function a(){t.classList.add("var-overlay-active"),o()}function s(){t.classList.remove("var-overlay-active")}e.addEventListener("input",()=>{o(),se(e,o)}),e.addEventListener("focus",s),e.addEventListener("blur",()=>{a(),k()}),e.addEventListener("keydown",i=>{W()&&K(i)}),n.addEventListener("click",i=>{let l=i.target.closest(".tk-var, .tk-var-resolved");l&&l.dataset.var?V(l,l.dataset.var,{getResolvedVariables:()=>z,getVariableSources:()=>re,getSecretKeys:()=>le,postMessage:Se??void 0}):(s(),e.focus())}),document.activeElement!==e&&a()}function Me(e,t,n){let o=t||"";e._getRawText=()=>o,e._setRawText=s=>{o=s};function a(){if(!o){e.innerHTML="";return}let s=window.getSelection(),i=0;if(s&&s.rangeCount>0&&e.contains(s.anchorNode)){let l=s.getRangeAt(0),c=document.createRange();c.selectNodeContents(e),c.setEnd(l.startContainer,l.startOffset),i=c.toString().length}e.innerHTML=C(m(o)),s&&document.activeElement===e&&U(e,i)}a(),e.addEventListener("input",()=>{if(ae){ae=!1,B(),rt?.();return}let s=window.getSelection(),i=0;if(s&&s.rangeCount>0&&e.contains(s.anchorNode)){let l=s.getRangeAt(0),c=document.createRange();c.selectNodeContents(e),c.setEnd(l.startContainer,l.startOffset),i=c.toString().length}o=e.textContent||"",a(),U(e,i),n(),oe(e,a)}),e.addEventListener("keydown",s=>{W()&&K(s)}),e.addEventListener("blur",()=>{k()}),e.addEventListener("click",s=>{let i=s.target.closest(".tk-var, .tk-var-resolved");i&&i.dataset.var&&V(i,i.dataset.var,{getResolvedVariables:()=>z,getVariableSources:()=>re,getSecretKeys:()=>le,postMessage:Se??void 0})})}function pt(e){if(e.type!=="variablesResolved")return!1;z=e.variables||{},re=e.sources||{},Qe(e.secretProviderNames||[]);let t=e.secretNames||{},n=new Set;for(let[o,a]of Object.entries(t)){Ye(o,a);for(let s of a)n.add(`$secret.${o}.${s}`)}return le=n,B(),!0}var Wt=null;document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&Wt?.()});function ft(e){Xe(()=>z),ot(()=>{B(),e?.extraSyncHighlight?.()},()=>{B(),e?.extraSyncUrlHighlight?.()},U,e?.setRawUrl)}function zt(e){let t=m(e);return t=t.replace(/(")((?:[^"\\]|\\.)*)(")\s*:/g,"<span class='tk-key'>&quot;$2&quot;</span>:"),t=t.replace(/(")((?:[^"\\]|\\.)*)(")/g,"<span class='tk-str'>&quot;$2&quot;</span>"),t=t.replace(/\b(-?\d+\.?\d*(?:e[+-]?\d+)?)\b/gi,"<span class='tk-num'>$1</span>"),t=t.replace(/\b(true|false|null)\b/g,"<span class='tk-kw'>$1</span>"),t}function jt(e){let t=m(e);return t=t.replace(/(&lt;\/?)([\w:-]+)/g,"$1<span class='tk-tag'>$2</span>"),t=t.replace(/([\w:-]+)(=)(")((?:[^"]*))(")/g,"<span class='tk-attr'>$1</span>$2<span class='tk-str'>&quot;$4&quot;</span>"),t}function me(e,t){let n;return t==="json"?n=zt(e):t==="xml"||t==="html"?n=jt(e):n=m(e),C(n)}function T(e,t,n,o="text"){let a=`<input type="${o}" id="${e}" placeholder="${t}" />`;return n?`<span class="auth-input-wrap">${a}</span>`:a}function mt(e,t){let{prefix:n,fieldsContainer:o,onChange:a,wrapInputs:s,showTokenStatus:i}=t;if(o.innerHTML="",e==="bearer")o.innerHTML=`<div class="auth-row"><label>Token</label>${T(n+"Token","{{token}}",s)}</div>`;else if(e==="basic")o.innerHTML=`<div class="auth-row"><label>Username</label>${T(n+"Username","username",s)}</div><div class="auth-row"><label>Password</label>${T(n+"Password","password",s,"password")}</div>`;else if(e==="apikey")o.innerHTML=`<div class="auth-row"><label>Key</label>${T(n+"Key","X-Api-Key",s)}</div><div class="auth-row"><label>Value</label>${T(n+"Value","{{apiKey}}",s)}</div><div class="auth-row"><label>In</label><select id="${n}Placement" class="auth-select"><option value="header">Header</option><option value="query">Query</option></select></div>`;else if(e==="oauth2"){o.innerHTML=`<div class="auth-row"><label>Grant Type</label><select id="${n}OAuth2Flow" class="auth-select"><option value="client_credentials">Client Credentials</option><option value="password">Password</option><option value="authorization_code">Authorization Code</option></select></div><div class="auth-row"><label>Access Token URL</label>${T(n+"OAuth2AccessTokenUrl","{{authUrl}}/token",s)}</div><div class="auth-row"><label>Client ID</label>${T(n+"OAuth2ClientId","{{clientId}}",s)}</div><div class="auth-row"><label>Client Secret</label>${T(n+"OAuth2ClientSecret","{{clientSecret}}",s)}</div><div class="auth-row"><label>Scope</label>${T(n+"OAuth2Scope","openid profile",s)}</div><div id="${n}OAuth2PasswordFields" style="display:none;"><div class="auth-row"><label>Username</label>${T(n+"OAuth2Username","{{username}}",s)}</div><div class="auth-row"><label>Password</label>${T(n+"OAuth2Password","password",s,"password")}</div></div><div id="${n}OAuth2AuthCodeFields" style="display:none;"><div class="auth-row"><label>Auth URL</label>${T(n+"OAuth2AuthorizationUrl","{{authUrl}}/authorize",s)}</div><div class="auth-row"><label>Callback URL</label>${T(n+"OAuth2CallbackUrl","https://localhost/callback",s)}</div></div><div class="auth-row"><label>Refresh URL</label>${T(n+"OAuth2RefreshTokenUrl","(optional)",s)}</div><div class="auth-row"><label>Credentials In</label><select id="${n}OAuth2CredentialsPlacement" class="auth-select"><option value="basic_auth_header">Header</option><option value="body">Body</option></select></div><div class="auth-row"><label>Auto Fetch</label><input type="checkbox" id="${n}OAuth2AutoFetch" checked /></div><div class="auth-row"><label>Auto Refresh</label><input type="checkbox" id="${n}OAuth2AutoRefresh" checked /></div>`+(i?`<div class="oauth2-token-status" id="${n}OAuth2TokenStatus"></div>`:"");let l=document.getElementById(n+"OAuth2Flow"),c=document.getElementById(n+"OAuth2PasswordFields"),u=document.getElementById(n+"OAuth2AuthCodeFields"),d=()=>{let f=l.value;c.style.display=f==="password"?"":"none",u.style.display=f==="authorization_code"?"":"none"};l.addEventListener("change",()=>{d(),a()}),d()}if(o.querySelectorAll("input").forEach(l=>{l.addEventListener("input",a),l.addEventListener("change",a)}),o.querySelectorAll("select").forEach(l=>l.addEventListener("change",a)),t.onFieldsRendered){let l=Array.from(o.querySelectorAll('input[type="text"]'));t.onFieldsRendered(l)}}function vt(e,t){let n=t,o=s=>document.getElementById(s),a=s=>document.getElementById(s);switch(e){case"bearer":return{type:"bearer",token:o(n+"Token")?.value||""};case"basic":return{type:"basic",username:o(n+"Username")?.value||"",password:o(n+"Password")?.value||""};case"apikey":return{type:"apikey",key:o(n+"Key")?.value||"",value:o(n+"Value")?.value||"",placement:a(n+"Placement")?.value||"header"};case"oauth2":{let s=a(n+"OAuth2Flow")?.value||"client_credentials",i={type:"oauth2",flow:s,accessTokenUrl:o(n+"OAuth2AccessTokenUrl")?.value||"",clientId:o(n+"OAuth2ClientId")?.value||"",clientSecret:o(n+"OAuth2ClientSecret")?.value||"",scope:o(n+"OAuth2Scope")?.value||"",refreshTokenUrl:o(n+"OAuth2RefreshTokenUrl")?.value||"",credentialsPlacement:a(n+"OAuth2CredentialsPlacement")?.value||"basic_auth_header",autoFetchToken:o(n+"OAuth2AutoFetch")?.checked!==!1,autoRefreshToken:o(n+"OAuth2AutoRefresh")?.checked!==!1};return s==="password"?(i.username=o(n+"OAuth2Username")?.value||"",i.password=o(n+"OAuth2Password")?.value||""):s==="authorization_code"&&(i.authorizationUrl=o(n+"OAuth2AuthorizationUrl")?.value||"",i.callbackUrl=o(n+"OAuth2CallbackUrl")?.value||""),i.refreshTokenUrl||delete i.refreshTokenUrl,i.scope||delete i.scope,i.clientSecret||delete i.clientSecret,i}case"inherit":return"inherit";default:return}}function gt(e,t){let n=t,o=s=>document.getElementById(s),a=s=>document.getElementById(s);if(!(!e||e==="inherit")&&!(typeof e!="object"||!e.type))switch(e.type){case"bearer":{let s=o(n+"Token");s&&(s.value=e.token||"");break}case"basic":{let s=o(n+"Username");s&&(s.value=e.username||"");let i=o(n+"Password");i&&(i.value=e.password||"");break}case"apikey":{let s=o(n+"Key");s&&(s.value=e.key||"");let i=o(n+"Value");i&&(i.value=e.value||"");let l=a(n+"Placement");l&&(l.value=e.placement||"header");break}case"oauth2":{let s=a(n+"OAuth2Flow");s&&(s.value=e.flow||"client_credentials",s.dispatchEvent(new Event("change")));let i=o(n+"OAuth2AccessTokenUrl");i&&(i.value=e.accessTokenUrl||"");let l=o(n+"OAuth2ClientId");l&&(l.value=e.clientId||"");let c=o(n+"OAuth2ClientSecret");c&&(c.value=e.clientSecret||"");let u=o(n+"OAuth2Scope");u&&(u.value=e.scope||"");let d=o(n+"OAuth2RefreshTokenUrl");d&&(d.value=e.refreshTokenUrl||"");let f=a(n+"OAuth2CredentialsPlacement");f&&(f.value=e.credentialsPlacement||"basic_auth_header");let p=o(n+"OAuth2AutoFetch");p&&(p.checked=e.autoFetchToken!==!1);let y=o(n+"OAuth2AutoRefresh");if(y&&(y.checked=e.autoRefreshToken!==!1),e.flow==="password"){let h=o(n+"OAuth2Username");h&&(h.value=e.username||"");let x=o(n+"OAuth2Password");x&&(x.value=e.password||"")}else if(e.flow==="authorization_code"){let h=o(n+"OAuth2AuthorizationUrl");h&&(h.value=e.authorizationUrl||"");let x=o(n+"OAuth2CallbackUrl");x&&(x.value=e.callbackUrl||"")}break}}}var Gt=[{name:"$select",description:"Choose which properties to return"},{name:"$filter",description:"Filter results based on conditions"},{name:"$orderby",description:"Sort results by properties"},{name:"$top",description:"Limit the number of results"},{name:"$skip",description:"Skip a number of results"},{name:"$count",description:"Include total count of results"},{name:"$expand",description:"Include related entities inline"},{name:"$search",description:"Free-text search expression"},{name:"$format",description:"Response format (json, xml, etc.)"},{name:"$compute",description:"Define computed properties"},{name:"$index",description:"Positional insert index"},{name:"$schemaversion",description:"Target a specific schema version"},{name:"$apply",description:"Aggregation and grouping"},{name:"$skiptoken",description:"Server-driven paging token"},{name:"$deltatoken",description:"Delta tracking token"}],E=null,H=[],O=0,G=null;function Xt(e,t){let n=e.substring(0,t),o=n.lastIndexOf("$");if(o===-1||o>0&&/\w/.test(n[o-1]))return null;let a=n.substring(o);return/^\$[\w]*$/.test(a)?a:null}function ht(e){let t=e.selectionStart??0,n=Xt(e.value,t);if(n===null){X();return}G=e;let o=n.toLowerCase();if(H=Gt.filter(a=>a.name.toLowerCase().startsWith(o)),H.length===0){X();return}O=0,E||(E=document.createElement("div"),E.className="var-autocomplete",document.body.appendChild(E)),He(),Jt(e)}function He(){E&&(E.innerHTML=H.map((e,t)=>"<div class='"+(t===O?"var-autocomplete-item selected":"var-autocomplete-item")+"' data-index='"+t+"'><span class='var-ac-name'>"+m(e.name)+"</span><span class='var-ac-value'>"+m(e.description)+"</span></div>").join(""),E.querySelectorAll(".var-autocomplete-item").forEach(e=>{e.addEventListener("mousedown",t=>{t.preventDefault();let n=parseInt(e.dataset.index||"0");yt(H[n].name)})}))}function Jt(e){if(!E)return;let t=e.getBoundingClientRect();E.style.left=t.left+"px",E.style.top=t.bottom+2+"px",E.style.minWidth="280px"}function yt(e){G&&(G.value=e,G.focus(),G.dispatchEvent(new Event("input",{bubbles:!0})),X())}function X(){E&&(E.remove(),E=null),G=null,H=[],O=0}function bt(e){return!E||H.length===0?!1:e.key==="ArrowDown"?(e.preventDefault(),O=(O+1)%H.length,He(),!0):e.key==="ArrowUp"?(e.preventDefault(),O=(O-1+H.length)%H.length,He(),!0):e.key==="Enter"||e.key==="Tab"?(e.preventDefault(),yt(H[O].name),!0):e.key==="Escape"?(e.preventDefault(),X(),!0):!1}function Et(){return E!==null}var Re=null,Ce="";function qe(){return Re}function xt(){return Ce}function Lt(e){r("respLoading").style.display="flex",r("respEmpty").style.display="none",r("respBodyWrap").style.display="none",r("responseBar").style.display="none",r("respTabs").style.display="none",e&&Ie(e)}function Ie(e){let t=r("respLoading").querySelector("span");t&&(t.textContent=e)}function Be(){r("respLoading").style.display="none"}function kt(){r("responseBar").style.display="none",r("respTabs").style.display="none",r("respBodyWrap").style.display="none",r("respEmpty").style.display="block",Re=null,Ce=""}function Qt(){let e=r("respLineNumbers"),n=r("respBodyPre").querySelectorAll(":scope > .code-line"),o=n.length||1,a="";for(let l=1;l<=o;l++)a+="<span>"+l+"</span>";e.innerHTML=a;let s=[];for(let l=0;l<n.length;l++)s.push(n[l].offsetHeight);let i=e.children;for(let l=0;l<i.length;l++)s[l]&&(i[l].style.height=s[l]+"px")}function Yt(e){return e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":(e/(1024*1024)).toFixed(1)+" MB"}function Tt(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}function Oe(e){Be(),Re=e,r("sendBtn").classList.remove("sending"),r("sendBtn").disabled=!1,r("sendBtn").textContent="Send",r("responseBar").style.display="flex",r("respTabs").style.display="flex",r("respEmpty").style.display="none",r("respBodyWrap").style.display="block";let t=r("statusBadge");t.textContent=e.status+" "+e.statusText;let n=Math.floor(e.status/100);t.className="status-badge s"+n+"xx",r("responseMeta").textContent=e.duration+"ms \u2022 "+Yt(e.size);let o=e.body||"",a="";if(e.headers){for(let u of Object.keys(e.headers))if(u.toLowerCase()==="content-type"){a=e.headers[u];break}}let s="text";if(a.includes("json")){s="json";try{o=JSON.stringify(JSON.parse(o),null,2)}catch{}}else a.includes("xml")?s="xml":a.includes("html")&&(s="html");Ce=o,console.time("resp:highlight");let l=o.split(`
`).map(u=>'<div class="code-line">'+me(u,s)+`
</div>`).join("");console.timeEnd("resp:highlight"),console.time("resp:innerHTML"),r("respBodyPre").innerHTML=l,console.timeEnd("resp:innerHTML"),console.time("resp:lineNumbers"),Qt(),console.timeEnd("resp:lineNumbers");let c=r("respHeadersBody");c.innerHTML="",e.headers&&Object.entries(e.headers).forEach(([u,d])=>{let f=document.createElement("tr");f.innerHTML="<td>"+Tt(u)+"</td><td>"+Tt(String(d))+"</td>",c.appendChild(f)})}function v(){D&&clearTimeout(D),Te(setTimeout(()=>{ie(!0);let e=ye();L.postMessage({type:"updateDocument",request:e})},300))}var Zt=["body","auth","headers","params","settings"],en=["resp-body","resp-headers"];function At(e,t,n){e.querySelectorAll(".tab").forEach(a=>a.classList.remove("active"));let o=e.querySelector(`[data-tab="${t}"]`);o&&o.classList.add("active"),n.forEach(a=>{let s=document.getElementById("panel-"+a);s&&s.classList.toggle("active",a===t)})}r("reqTabs").querySelectorAll(".tab").forEach(e=>{e.addEventListener("click",()=>{At(r("reqTabs"),e.dataset.tab,Zt)})});r("respTabs").querySelectorAll(".tab").forEach(e=>{e.addEventListener("click",()=>{At(r("respTabs"),e.dataset.tab,en)})});var $e=r("divider"),wt=r("requestSection"),St=r("responseSection"),Pe=!1;$e.addEventListener("mousedown",()=>{Pe=!0,$e.classList.add("dragging"),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"});document.addEventListener("mousemove",e=>{if(!Pe)return;let n=document.querySelector(".main-content").getBoundingClientRect(),o=e.clientY-n.top,a=n.height,s=Math.max(15,Math.min(85,o/a*100));wt.style.flex="none",wt.style.height=s+"%",St.style.flex="none",St.style.height=100-s+"%"});document.addEventListener("mouseup",()=>{Pe=!1,$e.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""});var Y=r("method");function Mt(){Y.className="method-select "+Y.value.toLowerCase()}Y.addEventListener("change",()=>{Mt(),v(),L.postMessage({type:"methodChanged",method:Y.value})});var Ve=!1;function ge(e="",t="",n="query",o=!1){let a=r("paramsBody"),s=document.createElement("tr");s.innerHTML='<td><input type="checkbox" class="p-enabled" '+(o?"":"checked")+' /></td><td><input type="text" class="p-name" value="'+F(e)+'" placeholder="name" /></td><td class="val-cell"><div class="val-ce p-value" contenteditable="true" data-placeholder="value"></div></td><td><select class="p-type select-borderless"><option value="query"'+(n==="query"?" selected":"")+'>query</option><option value="path"'+(n==="path"?" selected":"")+'>path</option></select></td><td><button class="row-delete">\xD7</button></td>',s.querySelector(".row-delete").addEventListener("click",()=>{s.remove(),Z(),Q(),v()}),s.querySelector(".p-enabled").addEventListener("change",()=>{Q(),v()}),s.querySelector(".p-type").addEventListener("change",()=>{Q(),v()});let c=s.querySelector(".p-name");j(c),c.addEventListener("input",()=>{ht(c),Q(),v()}),c.addEventListener("keydown",u=>{Et()&&bt(u)}),c.addEventListener("blur",()=>X()),Me(s.querySelector(".p-value"),t,()=>{Q(),v()}),a.appendChild(s),Z()}function Ht(){let e=he,t=[];return document.querySelectorAll("#paramsBody tr").forEach(n=>{let o=n.querySelector(".p-enabled").checked,a=n.querySelector(".p-type").value;if(!o||a!=="query")return;let s=n.querySelector(".p-name").value,i=n.querySelector(".p-value"),l=i._getRawText?i._getRawText():i.textContent||"";s&&t.push(s+"="+l)}),t.length>0&&(e+="?"+t.join("&")),e}function Q(){Ve||q()}function Rt(e){Ve=!0;let t=e.indexOf("?"),n=t>=0?e.substring(0,t):e,o=t>=0?e.substring(t+1):"";he=n;let a=[];if(o)for(let d of o.split("&")){let f=d.indexOf("=");f>=0?a.push({name:d.substring(0,f),value:d.substring(f+1)}):d&&a.push({name:d,value:""})}let s=Array.from(document.querySelectorAll("#paramsBody tr")),i=[],l=[];for(let d of s)if(d.querySelector(".p-type").value==="query"){let p=d.querySelector(".p-name").value,y=d.querySelector(".p-value"),h=y._getRawText?y._getRawText():y.textContent||"",x=d.querySelector(".p-enabled").checked;i.push({tr:d,name:p,value:h,enabled:x})}else l.push(d);let c=r("paramsBody");for(let d of i)d.tr.remove();let u=i.filter(d=>!d.enabled);for(let d of a)ge(d.name,d.value,"query",!1);for(let d of u)ge(d.name,d.value,"query",!0);for(let d of l)c.appendChild(d);Z(),Ve=!1}function Ct(e="",t="",n=!1){let o=r("headersBody"),a=document.createElement("tr");a.innerHTML='<td><input type="checkbox" class="h-enabled" '+(n?"":"checked")+' /></td><td><input type="text" class="h-name" value="'+F(e)+'" placeholder="name" /></td><td class="val-cell"><div class="val-ce h-value" contenteditable="true" data-placeholder="value"></div></td><td><button class="row-delete">\xD7</button></td>',a.querySelector(".row-delete").addEventListener("click",()=>{a.remove(),Z(),v()}),a.addEventListener("change",v);let s=a.querySelector(".h-name");j(s),s.addEventListener("input",v),Me(a.querySelector(".h-value"),t,v),o.appendChild(a),Z()}function qt(){Ae(!1),r("varToggleBtn").classList.remove("active"),S(),q(),B()}function It(e="",t="",n=!1){let o=r("bodyFormBody"),a=document.createElement("tr");a.innerHTML='<td><input type="checkbox" class="f-enabled" '+(n?"":"checked")+' /></td><td><input type="text" class="f-name" value="'+F(e)+'" placeholder="name" /></td><td><input type="text" class="f-value" value="'+F(t)+'" placeholder="value" /></td><td><button class="row-delete">\xD7</button></td>',a.querySelector(".row-delete").addEventListener("click",()=>{a.remove(),v()}),a.addEventListener("input",v),a.addEventListener("change",v),j(a.querySelector(".f-name")),j(a.querySelector(".f-value")),o.appendChild(a)}function Z(){let e=document.querySelectorAll("#paramsBody tr"),t=document.querySelectorAll("#headersBody tr");r("paramsBadge").textContent=String(e.length),r("headersBadge").textContent=String(t.length)}function ve(e){Ne(e),document.querySelectorAll("#bodyTypePills .pill").forEach(a=>{a.classList.toggle("active",a.dataset.bodyType===e)});let t=r("bodyRawEditor"),n=r("bodyFormEditor"),o=r("bodyLangMode");e==="none"?(t.style.display="none",n.style.display="none",o.style.display="none"):e==="form-urlencoded"||e==="multipart-form"?(t.style.display="none",n.style.display="block",o.style.display="none"):(t.style.display="flex",t.style.flexDirection="column",t.style.flex="1",n.style.display="none",o.style.display="block")}document.querySelectorAll("#bodyTypePills .pill").forEach(e=>{e.addEventListener("click",()=>{ve(e.dataset.bodyType)})});function Bt(){let e=r("bodyData"),t=r("lineNumbers"),o=r("bodyHighlight").querySelectorAll(":scope > .code-line"),a=o.length||1;if(t.children.length!==a){let l="";for(let c=1;c<=a;c++)l+="<span>"+c+"</span>";t.innerHTML=l}let i=t.children;for(let l=0;l<i.length;l++){let c=o[l];c&&(i[l].style.height=c.offsetHeight+"px")}t.style.top=-e.scrollTop+"px"}function S(){try{let e=r("bodyData"),t=r("bodyHighlight"),n=e.value.split(`
`);t.innerHTML=n.map(o=>'<div class="code-line">'+me(o,_)+`
</div>`).join(""),Bt()}catch{}}function _e(){return{getResolvedVariables:ct,getVariableSources:dt,getSecretKeys:ut,postMessage:e=>L.postMessage(e),onEditVariable:e=>L.postMessage({type:"editVariable",variableName:e})}}r("bodyHighlight").addEventListener("click",e=>{let t=e.target.closest(".tk-var, .tk-var-resolved");t&&t.dataset.var&&V(t,t.dataset.var,_e())});var he="";function tn(){return he}function nn(e){he=e,q()}function q(){let e=r("url"),t=Ht();if(!t){e.innerHTML="";return}let n=window.getSelection(),o=0;if(n&&n.rangeCount>0&&e.contains(n.anchorNode)){let a=n.getRangeAt(0),s=document.createRange();s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),o=s.toString().length}e.innerHTML=C(m(t)),n&&document.activeElement===e&&U(e,o)}ft({extraSyncHighlight:S,extraSyncUrlHighlight:q,setRawUrl:e=>{Rt(e)}});it(e=>L.postMessage(e));lt(()=>{r("varToggleBtn").classList.remove("active"),S(),q()});r("url").addEventListener("click",e=>{let t=e.target.closest(".tk-var, .tk-var-resolved");t&&t.dataset.var&&V(t,t.dataset.var,_e())});r("url").addEventListener("input",()=>{if(fe()){qt(),U(r("url"),Ht().length);return}let e=r("url"),t=window.getSelection(),n=0;if(t&&t.rangeCount>0&&e.contains(t.anchorNode)){let a=t.getRangeAt(0),s=document.createRange();s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),n=s.toString().length}let o=e.textContent||"";Rt(o),q(),U(e,n),oe(e,q),v()});function sn(){let e=r("bodyData"),t=r("bodyHighlight");t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft,Bt()}r("bodyData").addEventListener("input",()=>{fe()&&qt(),S(),se(r("bodyData"),S),v()});r("bodyData").addEventListener("scroll",sn);r("bodyData").addEventListener("click",e=>{let t=e,n=r("bodyData");n.style.pointerEvents="none";let o=document.elementFromPoint(t.clientX,t.clientY);if(n.style.pointerEvents="",o){let a=o.closest(".tk-var");a&&a.dataset.var&&V(a,a.dataset.var,_e())}});r("bodyData").addEventListener("keydown",e=>{W()&&K(e)});r("url").addEventListener("keydown",e=>{if(W()){K(e);return}e.key==="Enter"&&e.preventDefault()});r("bodyData").addEventListener("blur",()=>{setTimeout(k,150)});r("url").addEventListener("blur",()=>{setTimeout(k,150)});var on={prefix:"auth",get fieldsContainer(){return r("authFields")},onChange:()=>v(),showInherit:!0,wrapInputs:!0,showTokenStatus:!0,onFieldsRendered:e=>e.forEach(j)};function Ot(){let e=r("authType").value;mt(e,on)}function Ue(){let e=r("oauth2Flow")?.value||"client_credentials",t={type:"oauth2",flow:e,accessTokenUrl:b("oauth2AccessTokenUrl")?.value||"",clientId:b("oauth2ClientId")?.value||"",clientSecret:b("oauth2ClientSecret")?.value||"",scope:b("oauth2Scope")?.value||"",refreshTokenUrl:b("oauth2RefreshTokenUrl")?.value||"",credentialsPlacement:r("oauth2CredentialsPlacement")?.value||"basic_auth_header",credentialsId:$?.http?.auth?.credentialsId,autoFetchToken:r("oauth2AutoFetch")?.checked!==!1,autoRefreshToken:r("oauth2AutoRefresh")?.checked!==!1};return e==="password"&&(t.username=b("oauth2Username")?.value||"",t.password=b("oauth2Password")?.value||""),t}function De(){if(r("authType")?.value!=="oauth2")return;let e=Ue();e.accessTokenUrl&&L.postMessage({type:"getTokenStatus",auth:e})}function an(e){if(e<=0)return"expired";let t=Math.floor(e/1e3);if(t<60)return`${t}s`;let n=Math.floor(t/60);return n<60?`${n}m ${t%60}s`:`${Math.floor(n/60)}h ${n%60}m`}var J=null;function rn(e){let t=document.getElementById("oauth2TokenStatus");if(!t)return;if(J&&(clearInterval(J),J=null),!e.hasToken){t.innerHTML='<div class="token-status token-none"><span class="token-dot dot-none"></span> No token<button class="token-btn" id="oauth2GetTokenBtn">Get Token</button></div>',t.querySelector("#oauth2GetTokenBtn")?.addEventListener("click",()=>{let o=Ue();L.postMessage({type:"getToken",auth:o})});return}let n=()=>{let o=Date.now(),a=e.expiresAt?e.expiresAt-o:void 0,s=a!==void 0&&a<=0,i=s?"dot-expired":"dot-valid",l=s?"Expired":a!==void 0?`Expires in ${an(a)}`:"Valid (no expiry)",c=e.expiresAt?new Date(e.expiresAt).toLocaleTimeString():"";t.innerHTML='<div class="token-status '+(s?"token-expired":"token-valid")+'"><span class="token-dot '+i+'"></span> '+l+(c?'<span class="token-expiry-time"> ('+c+")</span>":"")+'<button class="token-btn" id="oauth2RefreshTokenBtn">'+(s?"Get Token":"Refresh")+"</button></div>",t.querySelector("#oauth2RefreshTokenBtn")?.addEventListener("click",()=>{let u=Ue();L.postMessage({type:"getToken",auth:u})})};n(),e.expiresAt&&(J=setInterval(()=>{n(),e.expiresAt&&Date.now()>e.expiresAt&&(clearInterval(J),J=null)},1e3))}function ln(e){let t=document.getElementById("oauth2TokenStatus");if(t&&e){let n=e.startsWith("Error:");t.innerHTML='<div class="token-status '+(n?"token-error":"token-progress")+'">'+(n?'<span class="token-dot dot-expired"></span> ':'<span class="token-spinner"></span> ')+F(e)+"</div>"}}function ye(){let e=$?JSON.parse(JSON.stringify($)):{};e.info||(e.info={type:"http"}),e.http||(e.http={}),e.settings||(e.settings={}),e.http.method=Y.value,e.http.url=tn();let t=[];document.querySelectorAll("#paramsBody tr").forEach(s=>{t.push({name:s.querySelector(".p-name").value,value:s.querySelector(".p-value")._getRawText?s.querySelector(".p-value")._getRawText():s.querySelector(".p-value").textContent||"",type:s.querySelector(".p-type").value,disabled:!s.querySelector(".p-enabled").checked})}),e.http.params=t;let n=[];if(document.querySelectorAll("#headersBody tr").forEach(s=>{n.push({name:s.querySelector(".h-name").value,value:s.querySelector(".h-value")._getRawText?s.querySelector(".h-value")._getRawText():s.querySelector(".h-value").textContent||"",disabled:!s.querySelector(".h-enabled").checked})}),e.http.headers=n,P!=="none")if(P==="form-urlencoded"||P==="multipart-form"){let s=[];document.querySelectorAll("#bodyFormBody tr").forEach(i=>{s.push({name:i.querySelector(".f-name").value,value:i.querySelector(".f-value").value,disabled:!i.querySelector(".f-enabled").checked})}),e.http.body={type:P,data:s}}else e.http.body={type:_,data:r("bodyData").value};else delete e.http.body;let o=r("authType").value,a=vt(o,"auth");return a!==void 0?e.http.auth=a:delete e.http.auth,e.settings.timeout=parseInt(b("settingTimeout").value)||3e4,e.settings.encodeUrl=b("settingEncodeUrl").checked,e.settings.followRedirects=b("settingFollowRedirects").checked,e.settings.maxRedirects=parseInt(b("settingMaxRedirects").value)||5,e}function $t(){let e=ye();r("sendBtn").classList.add("sending"),r("sendBtn").disabled=!0,r("sendBtn").textContent="Sending...",Lt(),L.postMessage({type:"sendRequest",request:e})}function cn(){D&&(clearTimeout(D),Te(null)),ie(!0);let e=ye();L.postMessage({type:"saveDocument",request:e})}function dn(e){Fe(e),r("exampleIndicator").style.display="none";let t=e.http||{};Y.value=(t.method||"GET").toUpperCase(),Mt(),r("paramsBody").innerHTML="",(t.params||[]).forEach(i=>ge(i.name,i.value,i.type||"query",i.disabled));let n=t.url||"";if((t.params||[]).some(i=>(i.type||"query")==="query")&&n.includes("?")&&(n=n.split("?")[0]),nn(n),r("headersBody").innerHTML="",(t.headers||[]).forEach(i=>Ct(i.name,i.value,i.disabled)),t.body){let i=Array.isArray(t.body)?(t.body.find(l=>l.selected)||t.body[0])?.body:t.body;i&&(i.type==="form-urlencoded"||i.type==="multipart-form"?(ve(i.type),r("bodyFormBody").innerHTML="",(i.data||[]).forEach(l=>It(l.name,l.value,l.disabled))):(ve("raw"),ce(i.type||"json"),r("bodyLangMode").value=_,i.data&&(r("bodyData").value=i.data),S()))}else ve("none");let a=t.auth;a==="inherit"?r("authType").value="inherit":a&&a.type?r("authType").value=a.type:r("authType").value="none",Ot(),a&&a!=="inherit"&&a.type&&setTimeout(()=>{gt(a,"auth"),B(),De()},0);let s=e.settings||{};b("settingTimeout").value=s.timeout!==void 0&&s.timeout!=="inherit"?s.timeout:"30000",b("settingEncodeUrl").checked=s.encodeUrl!==void 0&&s.encodeUrl!=="inherit"?s.encodeUrl:!0,b("settingFollowRedirects").checked=s.followRedirects!==void 0&&s.followRedirects!=="inherit"?s.followRedirects:!0,b("settingMaxRedirects").value=s.maxRedirects!==void 0&&s.maxRedirects!=="inherit"?s.maxRedirects:"5",Z()}window.addEventListener("message",e=>{let t=e.data;switch(t.type){case"requestLoaded":if(Ee){ie(!1);break}dn(t.request);break;case"response":r("exampleIndicator").style.display="none",Oe(t.response),De();break;case"sending":r("sendBtn").classList.add("sending"),r("sendBtn").disabled=!0,r("sendBtn").textContent="Sending...",t.message&&Ie(t.message);break;case"saved":break;case"error":Be(),r("sendBtn").classList.remove("sending"),r("sendBtn").disabled=!1,r("sendBtn").textContent="Send";break;case"languageChanged":ce(t.language),r("bodyLangMode").value=_,S();break;case"bodyUpdated":r("bodyData").value=t.content,S();break;case"examplesUpdated":$&&($.examples=t.examples||[]);break;case"loadExample":{let n=t.example;if(n.response){let a={};if(n.response.headers)for(let s of n.response.headers)a[s.name]=s.value;Oe({status:n.response.status,statusText:n.response.statusText,headers:a,body:n.response.body?.data??"",duration:0,size:(n.response.body?.data??"").length})}let o=r("exampleIndicator");o.textContent=t.exampleName||"Example",o.style.display="inline-block";break}case"clearExample":kt(),r("exampleIndicator").style.display="none";break;case"variablesResolved":{pt(t),S(),q(),De();break}case"secretValueResolved":je(t);break;case"oauth2TokenStatus":rn(t.status);break;case"oauth2Progress":ln(t.message);break}});r("varToggleBtn").addEventListener("click",()=>{let e=!fe();Ae(e),r("varToggleBtn").classList.toggle("active",e),S(),q(),B()});r("sendBtn").addEventListener("click",$t);document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="Enter"&&(e.preventDefault(),$t())});r("copyRespBtn").addEventListener("click",()=>{let e=xt();e&&navigator.clipboard.writeText(e).then(()=>{let t=r("copyRespBtn");t.textContent="Copied!",setTimeout(()=>{t.textContent="Copy"},1500)})});r("saveExampleBtn").addEventListener("click",()=>{if(!qe())return;let e=ye();L.postMessage({type:"saveExample",request:e,response:qe()})});r("addParamBtn").addEventListener("click",()=>{ge(),Q()});r("addHeaderBtn").addEventListener("click",()=>Ct());r("addFormFieldBtn").addEventListener("click",()=>It());r("authType").addEventListener("change",()=>{Ot(),v()});r("panel-auth").addEventListener("input",v);r("panel-auth").addEventListener("change",v);r("panel-settings").addEventListener("input",v);r("panel-settings").addEventListener("change",v);r("bodyLangMode").addEventListener("change",()=>{ce(r("bodyLangMode").value),S(),v()});document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&(e.preventDefault(),cn())});L.postMessage({type:"ready"});})();
