"use strict";(()=>{var b=acquireVsCodeApi(),k=null,pe={},ve={},me=!1,w=null,X=!1,S="none",C="json";function ye(e){k=e}function ge(e){pe=e}function fe(e){ve=e}function Y(e){me=e}function f(){return pe}function N(){return ve}function L(){return me}function G(e){w=e}function U(e){X=e}function he(e){S=e}function P(e){C=e}function a(e){return document.getElementById(e)}function u(e){return document.getElementById(e)}function T(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}function v(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ke(e){let t=v(e);return t=t.replace(/(")((?:[^"\\]|\\.)*)(")\s*:/g,"<span class='tk-key'>&quot;$2&quot;</span>:"),t=t.replace(/(")((?:[^"\\]|\\.)*)(")/g,"<span class='tk-str'>&quot;$2&quot;</span>"),t=t.replace(/\b(-?\d+\.?\d*(?:e[+-]?\d+)?)\b/gi,"<span class='tk-num'>$1</span>"),t=t.replace(/\b(true|false|null)\b/g,"<span class='tk-kw'>$1</span>"),t}function Fe(e){let t=v(e);return t=t.replace(/(&lt;\/?)([\w:-]+)/g,"$1<span class='tk-tag'>$2</span>"),t=t.replace(/([\w:-]+)(=)(")((?:[^"]*))(")/g,"<span class='tk-attr'>$1</span>$2<span class='tk-str'>&quot;$4&quot;</span>"),t}function I(e){let t=f(),s=N(),o=L();return e.replace(/\{\{(\s*[\w.]+\s*)\}\}/g,(n,l)=>{let r=l.trim(),i=r in t,c=s[r]||"unknown";return o&&i?"<span class='"+("tk-var-resolved tk-src-"+c)+"' data-var='"+v(r)+"' title='{{"+v(r)+"}} ("+c+")'>"+v(t[r])+"</span>":"<span class='"+(i?"tk-var tk-src-"+c:"tk-var tk-var-unresolved")+"' data-var='"+v(r)+"'>{{"+v(l)+"}}</span>"})}function O(e,t){let s;return t==="json"?s=Ke(e):t==="xml"||t==="html"?s=Fe(e):s=v(e),I(s)}var d=null,y=[],E=0,q=null,R=0,F=!1,K=null;function be(e,t){let s=e.substring(0,t),o=s.lastIndexOf("{{");if(o===-1)return null;let n=s.substring(o+2);if(n.includes("}}"))return null;let l=n.trim();return/^[\w.]*$/.test(l)?l:null}function Z(e,t){let s=e.selectionStart??0,o=be(e.value,s);if(o===null){h();return}q=e,F=!1,R=e.value.lastIndexOf("{{",s-1),Le(o,e,t)}function Ee(e,t){let s=window.getSelection();if(!s||s.rangeCount===0)return;let o=e.textContent||"",n=s.getRangeAt(0),l=document.createRange();l.selectNodeContents(e),l.setEnd(n.startContainer,n.startOffset);let r=l.toString().length,i=be(o,r);if(i===null){h();return}q=e,F=!0,R=o.lastIndexOf("{{",r-1),Le(i,e,t)}function Le(e,t,s){K=s;let o=Object.keys(f());if(o.length===0){h();return}let n=e.toLowerCase();if(y=o.filter(l=>l.toLowerCase().startsWith(n)),y.length===0){h();return}E=0,d||(d=document.createElement("div"),d.className="var-autocomplete",document.body.appendChild(d)),Q(),We(t)}function Q(){d&&(d.innerHTML=y.map((e,t)=>{let s=f()[e]||"";return"<div class='"+(t===E?"var-autocomplete-item selected":"var-autocomplete-item")+"' data-index='"+t+"'><span class='var-ac-name'>"+v(e)+"</span><span class='var-ac-value'>"+v(s)+"</span></div>"}).join(""),d.querySelectorAll(".var-autocomplete-item").forEach(e=>{e.addEventListener("mousedown",t=>{t.preventDefault();let s=parseInt(e.dataset.index||"0");we(y[s])})}))}function $e(e){let t=document.createElement("div"),s=window.getComputedStyle(e);["fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","paddingTop","paddingLeft","paddingRight","paddingBottom","borderWidth","boxSizing","whiteSpace","wordWrap","overflowWrap","tabSize"].forEach(m=>{t.style[m]=s.getPropertyValue(m.replace(/[A-Z]/g,V=>"-"+V.toLowerCase()))}),t.style.position="absolute",t.style.visibility="hidden",t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.width=e.clientWidth+"px";let n=e.value.substring(0,e.selectionStart??0);t.textContent=n;let l=document.createElement("span");l.textContent="|",t.appendChild(l),document.body.appendChild(t);let r=l.getBoundingClientRect(),i=e.getBoundingClientRect(),c={top:i.top+(r.top-t.getBoundingClientRect().top)-e.scrollTop,left:i.left+(r.left-t.getBoundingClientRect().left)-e.scrollLeft};return document.body.removeChild(t),c}function We(e){if(d){if(F){let t=window.getSelection();if(t&&t.rangeCount>0){let o=t.getRangeAt(0).getBoundingClientRect();d.style.left=o.left+"px",d.style.top=o.bottom+4+"px"}else{let s=e.getBoundingClientRect();d.style.left=s.left+"px",d.style.top=s.bottom+2+"px"}}else{let t=$e(e);d.style.left=t.left+"px",d.style.top=t.top+18+"px"}d.style.minWidth="220px"}}var Te=null,xe=null,Me=null,He=null;function ke(e,t,s,o){Te=e,xe=t,Me=s,He=o||null}function we(e){if(q){if(F){let t=q,s=t.textContent||"",o=window.getSelection(),n=s.length;if(o&&o.rangeCount>0){let V=o.getRangeAt(0),J=document.createRange();J.selectNodeContents(t),J.setEnd(V.startContainer,V.startOffset),n=J.toString().length}let l="{{"+e+"}}",r=n;s.substring(n).startsWith("}}")&&(r+=2);let c=s.substring(0,R)+l+s.substring(r);He?.(c),xe?.();let m=R+l.length;Me?.(t,m)}else{let t=q,s=t.value,o=t.selectionStart??s.length,n="{{"+e+"}}",l=o;s.substring(o).startsWith("}}")&&(l+=2),t.value=s.substring(0,R)+n+s.substring(l);let i=R+n.length;t.selectionStart=i,t.selectionEnd=i,t.focus(),K?K():Te?.()}h()}}function h(){d&&(d.remove(),d=null),q=null,y=[],E=0,K=null}function $(e){return!d||y.length===0?!1:e.key==="ArrowDown"?(e.preventDefault(),E=(E+1)%y.length,Q(),!0):e.key==="ArrowUp"?(e.preventDefault(),E=(E-1+y.length)%y.length,Q(),!0):e.key==="Enter"||e.key==="Tab"?(e.preventDefault(),we(y[E]),!0):e.key==="Escape"?(e.preventDefault(),h(),!0):!1}function ee(){return d!==null}var te=null,ne="";function se(){return te}function Ce(){return ne}function Re(){a("respLoading").style.display="flex",a("respEmpty").style.display="none",a("respBodyWrap").style.display="none",a("responseBar").style.display="none",a("respTabs").style.display="none"}function ae(){a("respLoading").style.display="none"}function qe(){a("responseBar").style.display="none",a("respTabs").style.display="none",a("respBodyWrap").style.display="none",a("respEmpty").style.display="block",te=null,ne=""}function je(e){let t=a("respLineNumbers"),s=(e.match(/\n/g)||[]).length+1,o="";for(let n=1;n<=s;n++)o+="<span>"+n+"</span>";t.innerHTML=o}function ze(e){return e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":(e/(1024*1024)).toFixed(1)+" MB"}function Se(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}function oe(e){ae(),te=e,a("sendBtn").classList.remove("sending"),a("sendBtn").disabled=!1,a("sendBtn").textContent="Send",a("responseBar").style.display="flex",a("respTabs").style.display="flex",a("respEmpty").style.display="none",a("respBodyWrap").style.display="block";let t=a("statusBadge");t.textContent=e.status+" "+e.statusText;let s=Math.floor(e.status/100);t.className="status-badge s"+s+"xx",a("responseMeta").textContent=e.duration+"ms \u2022 "+ze(e.size);let o=e.body||"",n=e.headers&&e.headers["content-type"]||"",l="text";if(n.includes("json")){l="json";try{o=JSON.stringify(JSON.parse(o),null,2)}catch{}}else n.includes("xml")?l="xml":n.includes("html")&&(l="html");ne=o,a("respBodyPre").innerHTML=O(o,l)+`
`,je(o);let r=a("respHeadersBody");r.innerHTML="",e.headers&&Object.entries(e.headers).forEach(([i,c])=>{let m=document.createElement("tr");m.innerHTML="<td>"+Se(i)+"</td><td>"+Se(String(c))+"</td>",r.appendChild(m)})}function p(){w&&clearTimeout(w),G(setTimeout(()=>{U(!0);let e=_();b.postMessage({type:"updateDocument",request:e})},300))}var _e=["body","auth","headers","params","settings"],Je=["resp-body","resp-headers"];function Ve(e,t,s){e.querySelectorAll(".tab").forEach(n=>n.classList.remove("active"));let o=e.querySelector(`[data-tab="${t}"]`);o&&o.classList.add("active"),s.forEach(n=>{let l=document.getElementById("panel-"+n);l&&l.classList.toggle("active",n===t)})}a("reqTabs").querySelectorAll(".tab").forEach(e=>{e.addEventListener("click",()=>{Ve(a("reqTabs"),e.dataset.tab,_e)})});a("respTabs").querySelectorAll(".tab").forEach(e=>{e.addEventListener("click",()=>{Ve(a("respTabs"),e.dataset.tab,Je)})});var le=a("divider"),Be=a("requestSection"),Ae=a("responseSection"),de=!1;le.addEventListener("mousedown",()=>{de=!0,le.classList.add("dragging"),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"});document.addEventListener("mousemove",e=>{if(!de)return;let s=document.querySelector(".main-content").getBoundingClientRect(),o=e.clientY-s.top,n=s.height,l=Math.max(15,Math.min(85,o/n*100));Be.style.flex="none",Be.style.height=l+"%",Ae.style.flex="none",Ae.style.height=100-l+"%"});document.addEventListener("mouseup",()=>{de=!1,le.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""});var A=a("method");function Ie(){A.className="method-select "+A.value.toLowerCase()}A.addEventListener("change",()=>{Ie(),p(),b.postMessage({type:"methodChanged",method:A.value})});function De(e="",t="",s="query",o=!1){let n=a("paramsBody"),l=document.createElement("tr");l.innerHTML='<td><input type="checkbox" class="p-enabled" '+(o?"":"checked")+' /></td><td><input type="text" class="p-name" value="'+T(e)+'" placeholder="name" /></td><td><input type="text" class="p-value" value="'+T(t)+'" placeholder="value" /></td><td><select class="p-type auth-select" style="margin:0;"><option value="query"'+(s==="query"?" selected":"")+'>query</option><option value="path"'+(s==="path"?" selected":"")+'>path</option></select></td><td><button class="row-delete">\xD7</button></td>',l.querySelector(".row-delete").addEventListener("click",()=>{l.remove(),D(),p()}),l.addEventListener("input",p),l.addEventListener("change",p),x(l.querySelector(".p-name")),x(l.querySelector(".p-value")),n.appendChild(l),D()}function Ne(e="",t="",s=!1){let o=a("headersBody"),n=document.createElement("tr");n.innerHTML='<td><input type="checkbox" class="h-enabled" '+(s?"":"checked")+' /></td><td><input type="text" class="h-name" value="'+T(e)+'" placeholder="name" /></td><td><input type="text" class="h-value" value="'+T(t)+'" placeholder="value" /></td><td><button class="row-delete">\xD7</button></td>',n.querySelector(".row-delete").addEventListener("click",()=>{n.remove(),D(),p()}),n.addEventListener("input",p),n.addEventListener("change",p),x(n.querySelector(".h-name")),x(n.querySelector(".h-value")),o.appendChild(n),D()}function x(e){let t=e.parentElement;t.classList.add("var-cell");let s=document.createElement("div");s.className="var-overlay",t.appendChild(s);function o(){s.innerHTML=I(v(e.value))}function n(){t.classList.add("var-overlay-active"),o()}function l(){t.classList.remove("var-overlay-active")}e.addEventListener("input",()=>{L()&&ue(),o(),Z(e,o)}),e.addEventListener("keydown",r=>{$(r)}),e.addEventListener("focus",l),e.addEventListener("blur",n),s.addEventListener("click",r=>{let i=r.target.closest(".tk-var, .tk-var-resolved");i&&i.dataset.var?z(i,i.dataset.var):(l(),e.focus())}),document.activeElement!==e&&n()}function ce(){document.querySelectorAll(".var-cell").forEach(e=>{let t=e.querySelector('input[type="text"]'),s=e.querySelector(".var-overlay");t&&s&&e.classList.contains("var-overlay-active")&&(s.innerHTML=I(v(t.value)))})}function ue(){Y(!1),a("varToggleBtn").classList.remove("active"),g(),H(),ce()}function Ue(e="",t="",s=!1){let o=a("bodyFormBody"),n=document.createElement("tr");n.innerHTML='<td><input type="checkbox" class="f-enabled" '+(s?"":"checked")+' /></td><td><input type="text" class="f-name" value="'+T(e)+'" placeholder="name" /></td><td><input type="text" class="f-value" value="'+T(t)+'" placeholder="value" /></td><td><button class="row-delete">\xD7</button></td>',n.querySelector(".row-delete").addEventListener("click",()=>{n.remove(),p()}),n.addEventListener("input",p),n.addEventListener("change",p),x(n.querySelector(".f-name")),x(n.querySelector(".f-value")),o.appendChild(n)}function D(){let e=document.querySelectorAll("#paramsBody tr"),t=document.querySelectorAll("#headersBody tr");a("paramsBadge").textContent=String(e.length),a("headersBadge").textContent=String(t.length)}function W(e){he(e),document.querySelectorAll("#bodyTypePills .pill").forEach(n=>{n.classList.toggle("active",n.dataset.bodyType===e)});let t=a("bodyRawEditor"),s=a("bodyFormEditor"),o=a("bodyLangMode");e==="none"?(t.style.display="none",s.style.display="none",o.style.display="none"):e==="form-urlencoded"||e==="multipart-form"?(t.style.display="none",s.style.display="block",o.style.display="none"):(t.style.display="flex",t.style.flexDirection="column",t.style.flex="1",s.style.display="none",o.style.display="block")}document.querySelectorAll("#bodyTypePills .pill").forEach(e=>{e.addEventListener("click",()=>{W(e.dataset.bodyType)})});function Pe(){let e=a("bodyData"),t=a("lineNumbers"),s=(e.value.match(/\n/g)||[]).length+1;if(t.children.length!==s){let n="";for(let l=1;l<=s;l++)n+="<span>"+l+"</span>";t.innerHTML=n}t.style.top=-e.scrollTop+"px"}function g(){try{let e=a("bodyData"),t=a("bodyHighlight");t.innerHTML=O(e.value,C)+`
`,Pe()}catch{}}var B=null;function z(e,t){re();let s=e.getBoundingClientRect(),o=t in f(),n=document.createElement("div");n.className="var-tooltip";let l=N()[t]||"unknown",r=l.charAt(0).toUpperCase()+l.slice(1);n.innerHTML="<div class='var-name'>{{"+v(t)+"}}</div>"+(o?"<div class='var-source tk-src-"+l+"'>"+r+"</div><div class='var-value'>"+v(f()[t])+"</div>":"<div class='var-unresolved'>Unresolved variable</div>")+"<div class='var-actions'><button class='var-action-btn' data-action='edit'>Edit Variable</button><button class='var-action-btn' data-action='copy'>"+(o?"Copy Value":"Copy Name")+"</button></div>",n.style.left=s.left+"px",n.style.top=s.bottom+4+"px",document.body.appendChild(n),B=n,n.querySelectorAll(".var-action-btn").forEach(i=>{i.addEventListener("click",()=>{let c=i.dataset.action;if(c==="edit")b.postMessage({type:"editVariable",variableName:t});else if(c==="copy"){let m=o?f()[t]:"{{"+t+"}}";navigator.clipboard.writeText(m).catch(()=>{})}re()})}),setTimeout(()=>{document.addEventListener("click",Oe)},0)}function re(){B&&(B.remove(),B=null),document.removeEventListener("click",Oe)}function Oe(e){B&&!B.contains(e.target)&&re()}a("bodyHighlight").addEventListener("click",e=>{let t=e.target.closest(".tk-var, .tk-var-resolved");t&&t.dataset.var&&z(t,t.dataset.var)});var M="";function Xe(){return M}function Ye(e){M=e,H()}function H(){let e=a("url");if(!M){e.innerHTML="";return}let t=window.getSelection(),s=0;if(t&&t.rangeCount>0&&e.contains(t.anchorNode)){let o=t.getRangeAt(0),n=document.createRange();n.selectNodeContents(e),n.setEnd(o.startContainer,o.startOffset),s=n.toString().length}e.innerHTML=I(v(M)),t&&document.activeElement===e&&j(e,s)}function j(e,t){let s=window.getSelection();if(!s)return;let o=document.createRange(),n=0,l=!1;function r(i){if(i.nodeType===Node.TEXT_NODE){let c=(i.textContent||"").length;if(n+c>=t)return o.setStart(i,t-n),o.collapse(!0),!0;n+=c}else for(let c=0;c<i.childNodes.length;c++)if(r(i.childNodes[c]))return!0;return!1}l=r(e),l||(o.selectNodeContents(e),o.collapse(!1)),s.removeAllRanges(),s.addRange(o)}ke(g,H,j,e=>{M=e});a("url").addEventListener("click",e=>{let t=e.target.closest(".tk-var, .tk-var-resolved");t&&t.dataset.var&&z(t,t.dataset.var)});a("url").addEventListener("input",()=>{if(L()){ue(),j(a("url"),M.length);return}let e=a("url"),t=window.getSelection(),s=0;if(t&&t.rangeCount>0&&e.contains(t.anchorNode)){let o=t.getRangeAt(0),n=document.createRange();n.selectNodeContents(e),n.setEnd(o.startContainer,o.startOffset),s=n.toString().length}M=e.textContent||"",H(),j(e,s),Ee(e,H),p()});function Ge(){let e=a("bodyData"),t=a("bodyHighlight");t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft,Pe()}a("bodyData").addEventListener("input",()=>{L()&&ue(),g(),Z(a("bodyData"),g),p()});a("bodyData").addEventListener("scroll",Ge);a("bodyData").addEventListener("click",e=>{let t=e,s=a("bodyData");s.style.pointerEvents="none";let o=document.elementFromPoint(t.clientX,t.clientY);if(s.style.pointerEvents="",o){let n=o.closest(".tk-var");n&&n.dataset.var&&z(n,n.dataset.var)}});a("bodyData").addEventListener("keydown",e=>{ee()&&$(e)});a("url").addEventListener("keydown",e=>{if(ee()){$(e);return}e.key==="Enter"&&e.preventDefault()});a("bodyData").addEventListener("blur",()=>{setTimeout(h,150)});a("url").addEventListener("blur",()=>{setTimeout(h,150)});function ie(){let e=a("authType").value,t=a("authFields");t.innerHTML="",e==="bearer"?t.innerHTML='<div class="auth-row"><label>Token</label><span class="auth-input-wrap"><input type="text" id="authToken" placeholder="{{token}}" /></span></div>':e==="basic"?t.innerHTML='<div class="auth-row"><label>Username</label><span class="auth-input-wrap"><input type="text" id="authUsername" placeholder="username" /></span></div><div class="auth-row"><label>Password</label><input type="password" id="authPassword" placeholder="password" /></div>':e==="apikey"&&(t.innerHTML='<div class="auth-row"><label>Key</label><span class="auth-input-wrap"><input type="text" id="authKey" placeholder="X-Api-Key" /></span></div><div class="auth-row"><label>Value</label><span class="auth-input-wrap"><input type="text" id="authValue" placeholder="{{apiKey}}" /></span></div><div class="auth-row"><label>In</label><select id="authPlacement" class="auth-select" style="margin:0;"><option value="header">Header</option><option value="query">Query</option></select></div>'),t.querySelectorAll('input[type="text"]').forEach(s=>{x(s)})}function _(){let e=k?JSON.parse(JSON.stringify(k)):{};e.info||(e.info={type:"http"}),e.http||(e.http={}),e.settings||(e.settings={}),e.http.method=A.value,e.http.url=Xe();let t=[];document.querySelectorAll("#paramsBody tr").forEach(n=>{t.push({name:n.querySelector(".p-name").value,value:n.querySelector(".p-value").value,type:n.querySelector(".p-type").value,disabled:!n.querySelector(".p-enabled").checked})}),e.http.params=t;let s=[];if(document.querySelectorAll("#headersBody tr").forEach(n=>{s.push({name:n.querySelector(".h-name").value,value:n.querySelector(".h-value").value,disabled:!n.querySelector(".h-enabled").checked})}),e.http.headers=s,S!=="none")if(S==="form-urlencoded"||S==="multipart-form"){let n=[];document.querySelectorAll("#bodyFormBody tr").forEach(l=>{n.push({name:l.querySelector(".f-name").value,value:l.querySelector(".f-value").value,disabled:!l.querySelector(".f-enabled").checked})}),e.http.body={type:S,data:n}}else e.http.body={type:C,data:a("bodyData").value};else delete e.http.body;let o=a("authType").value;return o==="bearer"?e.http.auth={type:"bearer",token:u("authToken")?.value||""}:o==="basic"?e.http.auth={type:"basic",username:u("authUsername")?.value||"",password:u("authPassword")?.value||""}:o==="apikey"?e.http.auth={type:"apikey",key:u("authKey")?.value||"",value:u("authValue")?.value||"",placement:a("authPlacement")?.value||"header"}:o==="inherit"?e.http.auth="inherit":delete e.http.auth,e.settings.timeout=parseInt(u("settingTimeout").value)||3e4,e.settings.encodeUrl=u("settingEncodeUrl").checked,e.settings.followRedirects=u("settingFollowRedirects").checked,e.settings.maxRedirects=parseInt(u("settingMaxRedirects").value)||5,e}function Qe(){let e=_();a("sendBtn").classList.add("sending"),a("sendBtn").disabled=!0,a("sendBtn").textContent="Sending...",Re(),b.postMessage({type:"sendRequest",request:e})}function Ze(){w&&(clearTimeout(w),G(null)),U(!0);let e=_();b.postMessage({type:"saveDocument",request:e})}function et(e){ye(e),qe();let t=e.http||{};if(A.value=(t.method||"GET").toUpperCase(),Ie(),Ye(t.url||""),a("paramsBody").innerHTML="",(t.params||[]).forEach(n=>De(n.name,n.value,n.type||"query",n.disabled)),a("headersBody").innerHTML="",(t.headers||[]).forEach(n=>Ne(n.name,n.value,n.disabled)),t.body){let n=Array.isArray(t.body)?(t.body.find(l=>l.selected)||t.body[0])?.body:t.body;n&&(n.type==="form-urlencoded"||n.type==="multipart-form"?(W(n.type),a("bodyFormBody").innerHTML="",(n.data||[]).forEach(l=>Ue(l.name,l.value,l.disabled))):(W("raw"),P(n.type||"json"),a("bodyLangMode").value=C,n.data&&(a("bodyData").value=n.data),g()))}else W("none");let s=t.auth;s==="inherit"?a("authType").value="inherit":s&&s.type?(a("authType").value=s.type,ie(),s.type==="bearer"?setTimeout(()=>{let n=u("authToken");n&&(n.value=s.token||"")},0):s.type==="basic"?setTimeout(()=>{let n=u("authUsername");n&&(n.value=s.username||"");let l=u("authPassword");l&&(l.value=s.password||"")},0):s.type==="apikey"&&setTimeout(()=>{let n=u("authKey");n&&(n.value=s.key||"");let l=u("authValue");l&&(l.value=s.value||"");let r=a("authPlacement");r&&(r.value=s.placement||"header")},0)):a("authType").value="none",ie();let o=e.settings||{};u("settingTimeout").value=o.timeout!==void 0&&o.timeout!=="inherit"?o.timeout:"30000",u("settingEncodeUrl").checked=o.encodeUrl!==void 0&&o.encodeUrl!=="inherit"?o.encodeUrl:!0,u("settingFollowRedirects").checked=o.followRedirects!==void 0&&o.followRedirects!=="inherit"?o.followRedirects:!0,u("settingMaxRedirects").value=o.maxRedirects!==void 0&&o.maxRedirects!=="inherit"?o.maxRedirects:"5",D()}window.addEventListener("message",e=>{let t=e.data;switch(t.type){case"requestLoaded":if(X){U(!1);break}et(t.request);break;case"response":oe(t.response);break;case"sending":a("sendBtn").classList.add("sending"),a("sendBtn").disabled=!0,a("sendBtn").textContent="Sending...";break;case"saved":break;case"error":ae(),a("sendBtn").classList.remove("sending"),a("sendBtn").disabled=!1,a("sendBtn").textContent="Send";break;case"languageChanged":P(t.language),a("bodyLangMode").value=C,g();break;case"bodyUpdated":a("bodyData").value=t.content,g();break;case"examplesUpdated":k&&(k.examples=t.examples||[]);break;case"loadExample":{let s=t.example;if(s.response){let o={};if(s.response.headers)for(let n of s.response.headers)o[n.name]=n.value;oe({status:s.response.status,statusText:s.response.statusText,headers:o,body:s.response.body?.data??"",duration:0,size:(s.response.body?.data??"").length})}break}case"variablesResolved":ge(t.variables||{}),fe(t.sources||{}),g(),H(),ce();break}});a("varToggleBtn").addEventListener("click",()=>{let e=!L();Y(e),a("varToggleBtn").classList.toggle("active",e),g(),H(),ce()});a("sendBtn").addEventListener("click",Qe);a("copyRespBtn").addEventListener("click",()=>{let e=Ce();e&&navigator.clipboard.writeText(e).then(()=>{let t=a("copyRespBtn");t.textContent="Copied!",setTimeout(()=>{t.textContent="Copy"},1500)})});a("saveExampleBtn").addEventListener("click",()=>{if(!se())return;let e=_();b.postMessage({type:"saveExample",request:e,response:se()})});a("addParamBtn").addEventListener("click",()=>De());a("addHeaderBtn").addEventListener("click",()=>Ne());a("addFormFieldBtn").addEventListener("click",()=>Ue());a("authType").addEventListener("change",()=>{ie(),p()});a("panel-auth").addEventListener("input",p);a("panel-auth").addEventListener("change",p);a("panel-settings").addEventListener("input",p);a("panel-settings").addEventListener("change",p);a("bodyLangMode").addEventListener("change",()=>{P(a("bodyLangMode").value),g(),p()});document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&(e.preventDefault(),Ze())});b.postMessage({type:"ready"});})();
